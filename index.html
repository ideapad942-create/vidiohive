async function makeRequest(key, base64) {
        // PROMPT OPTIMASI MICROSTOCK - TITLE & KEYWORDS RELEVANCY
        const prompt = `
        Role: Expert Microstock Metadata Optimizer for ShutterStock, Adobe Stock, and Getty Images.
        
        TASK: Analyze the provided 3 video frames and generate professional metadata in English.
        
        STRICT RULES FOR TITLE:
        - Must be descriptive and reflect the visual content accurately.
        - Length MUST BE between 50 and 70 characters (including spaces).
        - Start with the core subject.
        - NO fluff words like "video of" or "footage of".
        
        STRICT RULES FOR KEYWORDS:
        - Generate exactly 45 to 48 keywords.
        - SORT BY RELEVANCE: The most important keywords MUST be in the first 10 positions.
        - Format: Comma-separated values.
        - NO NUMBERS, NO YEARS, NO SPECIAL CHARACTERS.
        - Focus on: subject, action, style (e.g., film burn, transition, overlay), lighting, mood, and color.
        
        STRICT RULES FOR DESCRIPTION:
        - Must be between 100-150 characters.
        - Explain the technical style and visual flow.

        CATEGORY: Pick ONE from: [${CATEGORIES_LIST}]

        OUTPUT FORMAT: Strictly JSON
        { 
          "category": "string", 
          "title": "string", 
          "description": "string", 
          "keywords": "string" 
        }
        `;

        const resp = await fetch("https://api.groq.com/openai/v1/chat/completions", {
            method: "POST",
            headers: { "Authorization": `Bearer ${key}`, "Content-Type": "application/json" },
            body: JSON.stringify({
                model: GROQ_MODEL,
                messages: [
                    { role: "system", content: prompt },
                    { role: "user", content: [
                        { type: "text", text: "Analyze video frames for microstock metadata. Ensure title is 50-70 chars and exactly 45-48 keywords sorted by importance." },
                        { type: "image_url", image_url: { url: base64 } }
                    ]}
                ],
                temperature: 0.3, // Lower temperature for more consistent rule following
                response_format: { type: "json_object" }
            })
        });

        if (!resp.ok) {
            const errText = await resp.text();
            throw new Error(`API Fail: ${resp.status} ${errText}`);
        }

        const data = await resp.json();
        let content = data.choices[0].message.content;
        
        try {
            const first = content.indexOf('{');
            const last = content.lastIndexOf('}');
            if (first === -1 || last === -1) throw new Error("No JSON found");
            return JSON.parse(content.substring(first, last+1));
        } catch (e) {
            throw new Error("Invalid JSON Syntax from AI");
        }
    }
